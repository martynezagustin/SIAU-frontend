import './polyfills.server.mjs';
import{A as ht,Aa as Ze,B as w,C as ae,Ca as I,D as le,Da as ne,E as a,Ea as Zt,F as s,Fa as Jt,G as m,Ga as re,H as V,I as g,J as p,K as Rt,L as te,M as l,N as O,O as y,P as ie,Q as pt,R as ft,S as gt,T as F,U as C,V as Ke,W as ke,X as jt,Y as Ut,_ as Gt,a as Pt,b as Ot,c as Nt,ca as Bt,d as kt,e as $e,ea as Ht,f as Q,g as k,ga as Lt,h as qe,ha as $t,i as pe,ia as vt,j as ee,k as _,ka as ye,l as ze,la as W,m as M,ma as L,n as Tt,na as T,o as We,oa as be,p as E,pa as xe,q as S,qa as qt,r as Ce,ra as zt,s as Oe,sa as Wt,t as fe,u as d,v as c,va as Kt,w as Ne,x as P,y as b,z as v,za as K}from"./chunk-5AHIC4WM.mjs";import{a as H,b as Y}from"./chunk-NDYDZJSS.mjs";var Xt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["header"]],standalone:!0,features:[C],decls:3,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"]],template:function(n,o){n&1&&(a(0,"nav",0)(1,"div",1),m(2,"a",2),s()())},styles:['.navbar[_ngcontent-%COMP%]{background:linear-gradient(to right,#000000b3,#000c),url("./media/_ca9b9520-bc91-4ac9-946a-a157a39ecdcf-VTKBA6LD.jpeg");box-shadow:1px 1px 9px 1px #000}.nav-link[_ngcontent-%COMP%]{color:#fff!important}.active[_ngcontent-%COMP%]{font-weight:bolder}.navbar-brand[_ngcontent-%COMP%]{width:15%;padding:30px 0 47px;background-image:url("./media/logo-RHPTHSUL.jpg");background-size:cover;background-position:center;border-radius:5px}@media screen and (max-width: 1146px){.navbar-brand[_ngcontent-%COMP%]{width:20%}}@media screen and (max-width: 865px){.navbar-brand[_ngcontent-%COMP%]{width:25%}}@media screen and (max-width: 717px){.navbar-brand[_ngcontent-%COMP%]{width:30%}}@media screen and (max-width:606px){.navbar-brand[_ngcontent-%COMP%]{width:35%}}@media screen and (max-width:521px){.navbar-brand[_ngcontent-%COMP%]{width:40%}}@media screen and (max-width:463px){.navbar-brand[_ngcontent-%COMP%]{width:45%}}@media screen and (max-width:418px){.navbar-brand[_ngcontent-%COMP%]{width:50%}}@media screen and (max-width:373px){.navbar-brand[_ngcontent-%COMP%]{width:60%}}']});let i=e;return i})();var ai=(()=>{let e=class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(n){return new(n||e)(c(Ne),c(Oe))},e.\u0275dir=M({type:e});let i=e;return i})(),rt=(()=>{let e=class e extends ai{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Ce(e)))(o||e)}})(),e.\u0275dir=M({type:e,features:[P]});let i=e;return i})(),Ve=new pe("");var Yi={provide:Ve,useExisting:Q(()=>A),multi:!0};function Qi(){let i=vt()?vt().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var en=new pe(""),A=(()=>{let e=class e extends ai{constructor(t,n,o){super(t,n),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Qi())}writeValue(t){let n=t??"";this.setProperty("value",n)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(n){return new(n||e)(c(Ne),c(Oe),c(en,8))},e.\u0275dir=M({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){n&1&&g("input",function(h){return o._handleInput(h.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(h){return o._compositionEnd(h.target.value)})},features:[F([Yi]),P]});let i=e;return i})();function de(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function li(i){return i!=null&&typeof i.length=="number"}var Me=new pe(""),Fe=new pe(""),tn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,f=class{static min(e){return nn(e)}static max(e){return rn(e)}static required(e){return on(e)}static requiredTrue(e){return sn(e)}static email(e){return an(e)}static minLength(e){return ln(e)}static maxLength(e){return dn(e)}static pattern(e){return cn(e)}static nullValidator(e){return di(e)}static compose(e){return fi(e)}static composeAsync(e){return gi(e)}};function nn(i){return e=>{if(de(e.value)||de(i))return null;let r=parseFloat(e.value);return!isNaN(r)&&r<i?{min:{min:i,actual:e.value}}:null}}function rn(i){return e=>{if(de(e.value)||de(i))return null;let r=parseFloat(e.value);return!isNaN(r)&&r>i?{max:{max:i,actual:e.value}}:null}}function on(i){return de(i.value)?{required:!0}:null}function sn(i){return i.value===!0?null:{required:!0}}function an(i){return de(i.value)||tn.test(i.value)?null:{email:!0}}function ln(i){return e=>de(e.value)||!li(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function dn(i){return e=>li(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function cn(i){if(!i)return di;let e,r;return typeof i=="string"?(r="",i.charAt(0)!=="^"&&(r+="^"),r+=i,i.charAt(i.length-1)!=="$"&&(r+="$"),e=new RegExp(r)):(r=i.toString(),e=i),t=>{if(de(t.value))return null;let n=t.value;return e.test(n)?null:{pattern:{requiredPattern:r,actualValue:n}}}}function di(i){return null}function ci(i){return i!=null}function ui(i){return Gt(i)?Ot(i):i}function mi(i){let e={};return i.forEach(r=>{e=r!=null?H(H({},e),r):e}),Object.keys(e).length===0?null:e}function hi(i,e){return e.map(r=>r(i))}function un(i){return!i.validate}function pi(i){return i.map(e=>un(e)?e:r=>e.validate(r))}function fi(i){if(!i)return null;let e=i.filter(ci);return e.length==0?null:function(r){return mi(hi(r,e))}}function Et(i){return i!=null?fi(pi(i)):null}function gi(i){if(!i)return null;let e=i.filter(ci);return e.length==0?null:function(r){let t=hi(r,e).map(ui);return kt(t).pipe(Nt(mi))}}function St(i){return i!=null?gi(pi(i)):null}function Yt(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function vi(i){return i._rawValidators}function _i(i){return i._rawAsyncValidators}function _t(i){return i?Array.isArray(i)?i:[i]:[]}function Xe(i,e){return Array.isArray(i)?i.includes(e):i===e}function Qt(i,e){let r=_t(e);return _t(i).forEach(n=>{Xe(r,n)||r.push(n)}),r}function ei(i,e){return _t(e).filter(r=>!Xe(i,r))}var Ye=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Et(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=St(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},N=class extends Ye{get formDirective(){return null}get path(){return null}},ge=class extends Ye{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Qe=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},mn={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Wr=Y(H({},mn),{"[class.ng-submitted]":"isSubmitted"}),R=(()=>{let e=class e extends Qe{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(c(ge,2))},e.\u0275dir=M({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){n&2&&ht("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[P]});let i=e;return i})(),j=(()=>{let e=class e extends Qe{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(c(N,10))},e.\u0275dir=M({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){n&2&&ht("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[P]});let i=e;return i})();var Te="VALID",Je="INVALID",Ee="PENDING",Re="DISABLED",ce=class{},et=class extends ce{constructor(e,r){super(),this.value=e,this.source=r}},Ue=class extends ce{constructor(e,r){super(),this.pristine=e,this.source=r}},Ge=class extends ce{constructor(e,r){super(),this.touched=e,this.source=r}},Se=class extends ce{constructor(e,r){super(),this.status=e,this.source=r}},Ct=class extends ce{constructor(e){super(),this.source=e}},yt=class extends ce{constructor(e){super(),this.source=e}};function It(i){return(ot(i)?i.validators:i)||null}function hn(i){return Array.isArray(i)?Et(i):i||null}function Dt(i,e){return(ot(e)?e.asyncValidators:i)||null}function pn(i){return Array.isArray(i)?St(i):i||null}function ot(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function Ci(i,e,r){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new $e(1e3,"");if(!t[r])throw new $e(1001,"")}function yi(i,e,r){i._forEachChild((t,n)=>{if(r[n]===void 0)throw new $e(1002,"")})}var Ie=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new Pt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Te}get invalid(){return this.status===Je}get pending(){return this.status==Ee}get disabled(){return this.status===Re}get enabled(){return this.status!==Re}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qt(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qt(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ei(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ei(e,this._rawAsyncValidators))}hasValidator(e){return Xe(this._rawValidators,e)}hasAsyncValidator(e){return Xe(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let r=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Y(H({},e),{sourceControl:t})),r&&e.emitEvent!==!1&&this._events.next(new Ge(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(e))}markAsUntouched(e={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),r&&e.emitEvent!==!1&&this._events.next(new Ge(!1,t))}markAsDirty(e={}){let r=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Y(H({},e),{sourceControl:t})),r&&e.emitEvent!==!1&&this._events.next(new Ue(!1,t))}markAsPristine(e={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&e.emitEvent!==!1&&this._events.next(new Ue(!0,t))}markAsPending(e={}){this.status=Ee;let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Se(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Y(H({},e),{sourceControl:r}))}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Re,this.errors=null,this._forEachChild(n=>{n.disable(Y(H({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new et(this.value,t)),this._events.next(new Se(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(H({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Te,this._forEachChild(t=>{t.enable(Y(H({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Y(H({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,r){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Te||this.status===Ee)&&this._runAsyncValidator(t,e.emitEvent)}let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new et(this.value,r)),this._events.next(new Se(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Y(H({},e),{sourceControl:r}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Re:Te}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,r){if(this.asyncValidator){this.status=Ee,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let t=ui(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:r,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((t,n)=>t&&t._find(n),this)}getError(e,r){let t=r?this.get(r):this;return t&&t.errors?t.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,r,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new Se(this.status,r)),this._parent&&this._parent._updateControlsErrors(e,r,t)}_initObservables(){this.valueChanges=new fe,this.statusChanges=new fe}_calculateStatus(){return this._allControlsDisabled()?Re:this.errors?Je:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ee)?Ee:this._anyControlsHaveStatus(Je)?Je:Te}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,r){let t=!this._anyControlsDirty(),n=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&this._events.next(new Ue(this.pristine,r))}_updateTouched(e={},r){this.touched=this._anyControlsTouched(),this._events.next(new Ge(this.touched,r)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ot(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=hn(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=pn(this._rawAsyncValidators)}},De=class extends Ie{constructor(e,r,t){super(It(r),Dt(t,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,t={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){yi(this,!0,e),Object.keys(e).forEach(t=>{Ci(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(t=>{let n=this.controls[t];n&&n.patchValue(e[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((t,n)=>{t.reset(e?e[n]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,t)=>(e[t]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,t)=>t._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{let t=this.controls[r];t&&e(t,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[r,t]of Object.entries(this.controls))if(this.contains(r)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,t,n)=>((t.enabled||this.disabled)&&(r[n]=t.value),r))}_reduceChildren(e,r){let t=e;return this._forEachChild((n,o)=>{t=r(t,n,o)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var bt=class extends De{};var He=new pe("CallSetDisabledState",{providedIn:"root",factory:()=>st}),st="always";function at(i,e){return[...e.path,i]}function tt(i,e,r=st){Vt(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),gn(i,e),_n(i,e),vn(i,e),fn(i,e)}function ti(i,e,r=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),nt(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function it(i,e){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function fn(i,e){if(e.valueAccessor.setDisabledState){let r=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(r),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}function Vt(i,e){let r=vi(i);e.validator!==null?i.setValidators(Yt(r,e.validator)):typeof r=="function"&&i.setValidators([r]);let t=_i(i);e.asyncValidator!==null?i.setAsyncValidators(Yt(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let n=()=>i.updateValueAndValidity();it(e._rawValidators,n),it(e._rawAsyncValidators,n)}function nt(i,e){let r=!1;if(i!==null){if(e.validator!==null){let n=vi(i);if(Array.isArray(n)&&n.length>0){let o=n.filter(u=>u!==e.validator);o.length!==n.length&&(r=!0,i.setValidators(o))}}if(e.asyncValidator!==null){let n=_i(i);if(Array.isArray(n)&&n.length>0){let o=n.filter(u=>u!==e.asyncValidator);o.length!==n.length&&(r=!0,i.setAsyncValidators(o))}}}let t=()=>{};return it(e._rawValidators,t),it(e._rawAsyncValidators,t),r}function gn(i,e){e.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&bi(i,e)})}function vn(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&bi(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function bi(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function _n(i,e){let r=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};i.registerOnChange(r),e._registerOnDestroy(()=>{i._unregisterOnChange(r)})}function xi(i,e){i==null,Vt(i,e)}function Cn(i,e){return nt(i,e)}function Ei(i,e){if(!i.hasOwnProperty("model"))return!1;let r=i.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function yn(i){return Object.getPrototypeOf(i.constructor)===rt}function Si(i,e){i._syncPendingControls(),e.forEach(r=>{let t=r.control;t.updateOn==="submit"&&t._pendingChange&&(r.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Ii(i,e){if(!e)return null;Array.isArray(e);let r,t,n;return e.forEach(o=>{o.constructor===A?r=o:yn(o)?t=o:n=o}),n||t||r||null}function bn(i,e){let r=i.indexOf(e);r>-1&&i.splice(r,1)}var xn={provide:N,useExisting:Q(()=>Mt)},je=Promise.resolve(),Mt=(()=>{let e=class e extends N{constructor(t,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new fe,this.form=new De({},Et(t),St(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){je.then(()=>{let n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),tt(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){je.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){je.then(()=>{let n=this._findContainer(t.path),o=new De({});xi(o,t),n.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){je.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){je.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Si(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(n){return new(n||e)(c(Me,10),c(Fe,10),c(He,8))},e.\u0275dir=M({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,o){n&1&&g("submit",function(h){return o.onSubmit(h)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[F([xn]),P]});let i=e;return i})();function ii(i,e){let r=i.indexOf(e);r>-1&&i.splice(r,1)}function ni(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Be=class extends Ie{constructor(e=null,r,t){super(It(r),Dt(t,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ot(r)&&(r.nonNullable||r.initialValueIsDefault)&&(ni(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ii(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ii(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ni(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var En=i=>i instanceof Be,Sn=(()=>{let e=class e extends N{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return at(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Ce(e)))(o||e)}})(),e.\u0275dir=M({type:e,features:[P]});let i=e;return i})();var In={provide:ge,useExisting:Q(()=>Ft)},ri=Promise.resolve(),Ft=(()=>{let e=class e extends ge{constructor(t,n,o,u,h,B){super(),this._changeDetectorRef=h,this.callSetDisabledState=B,this.control=new Be,this._registered=!1,this.name="",this.update=new fe,this._parent=t,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=Ii(this,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ei(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){tt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ri.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let n=t.isDisabled.currentValue,o=n!==0&&Lt(n);ri.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?at(t,this._parent):[t]}};e.\u0275fac=function(n){return new(n||e)(c(N,9),c(Me,10),c(Fe,10),c(Ve,10),c(Ht,8),c(He,8))},e.\u0275dir=M({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[F([In]),P,We]});let i=e;return i})(),U=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=M({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})(),Dn={provide:Ve,useExisting:Q(()=>se),multi:!0},se=(()=>{let e=class e extends rt{writeValue(t){let n=t??"";this.setProperty("value",n)}registerOnChange(t){this.onChange=n=>{t(n==""?null:parseFloat(n))}}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Ce(e)))(o||e)}})(),e.\u0275dir=M({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,o){n&1&&g("input",function(h){return o.onChange(h.target.value)})("blur",function(){return o.onTouched()})},features:[F([Dn]),P]});let i=e;return i})();var Di=new pe("");var Vn={provide:N,useExisting:Q(()=>G)},G=(()=>{let e=class e extends N{constructor(t,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new fe,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let n=this.form.get(t.path);return tt(n,t,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){ti(t.control||null,t,!1),bn(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this.submitted=!0,Si(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ct(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1,this.form._events.next(new yt(this.form))}_updateDomValue(){this.directives.forEach(t=>{let n=t.control,o=this.form.get(t.path);n!==o&&(ti(n||null,t),En(o)&&(tt(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let n=this.form.get(t.path);xi(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let n=this.form.get(t.path);n&&Cn(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vt(this.form,this),this._oldForm&&nt(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(n){return new(n||e)(c(Me,10),c(Fe,10),c(He,8))},e.\u0275dir=M({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){n&1&&g("submit",function(h){return o.onSubmit(h)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[F([Vn]),P,We]});let i=e;return i})(),Mn={provide:N,useExisting:Q(()=>ue)},ue=(()=>{let e=class e extends Sn{constructor(t,n,o){super(),this.name=null,this._parent=t,this._setValidators(n),this._setAsyncValidators(o)}_checkParentType(){Vi(this._parent)}};e.\u0275fac=function(n){return new(n||e)(c(N,13),c(Me,10),c(Fe,10))},e.\u0275dir=M({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[F([Mn]),P]});let i=e;return i})(),Fn={provide:N,useExisting:Q(()=>me)},me=(()=>{let e=class e extends N{constructor(t,n,o){super(),this.name=null,this._parent=t,this._setValidators(n),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return at(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){Vi(this._parent)}};e.\u0275fac=function(n){return new(n||e)(c(N,13),c(Me,10),c(Fe,10))},e.\u0275dir=M({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[F([Fn]),P]});let i=e;return i})();function Vi(i){return!(i instanceof ue)&&!(i instanceof G)&&!(i instanceof me)}var wn={provide:ge,useExisting:Q(()=>$)},$=(()=>{let e=class e extends ge{set isDisabled(t){}constructor(t,n,o,u,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.name=null,this.update=new fe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=Ii(this,u)}ngOnChanges(t){this._added||this._setUpControl(),Ei(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return at(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(c(N,13),c(Me,10),c(Fe,10),c(Ve,10),c(Di,8))},e.\u0275dir=M({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[F([wn]),P,We]});let i=e;return i})(),An={provide:Ve,useExisting:Q(()=>lt),multi:!0};function Mi(i,e){return i==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function Pn(i){return i.split(":")[0]}var lt=(()=>{let e=class e extends rt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let n=this._getOptionId(t),o=Mi(n,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=n=>{this.value=this._getOptionValue(n),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),t))return n;return null}_getOptionValue(t){let n=Pn(t);return this._optionMap.has(n)?this._optionMap.get(n):t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Ce(e)))(o||e)}})(),e.\u0275dir=M({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,o){n&1&&g("change",function(h){return o.onChange(h.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[F([An]),P]});let i=e;return i})(),Fi=(()=>{let e=class e{constructor(t,n,o){this._element=t,this._renderer=n,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Mi(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(n){return new(n||e)(c(Oe),c(Ne),c(lt,9))},e.\u0275dir=M({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})(),On={provide:Ve,useExisting:Q(()=>wi),multi:!0};function oi(i,e){return i==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function Nn(i){return i.split(":")[0]}var wi=(()=>{let e=class e extends rt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let n;if(Array.isArray(t)){let o=t.map(u=>this._getOptionId(u));n=(u,h)=>{u._setSelected(o.indexOf(h.toString())>-1)}}else n=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(t){this.onChange=n=>{let o=[],u=n.selectedOptions;if(u!==void 0){let h=u;for(let B=0;B<h.length;B++){let _e=h[B],Pe=this._getOptionValue(_e.value);o.push(Pe)}}else{let h=n.options;for(let B=0;B<h.length;B++){let _e=h[B];if(_e.selected){let Pe=this._getOptionValue(_e.value);o.push(Pe)}}}this.value=o,t(o)}}_registerOption(t){let n=(this._idCounter++).toString();return this._optionMap.set(n,t),n}_getOptionId(t){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,t))return n;return null}_getOptionValue(t){let n=Nn(t);return this._optionMap.has(n)?this._optionMap.get(n)._value:t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Ce(e)))(o||e)}})(),e.\u0275dir=M({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,o){n&1&&g("change",function(h){return o.onChange(h.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[F([On]),P]});let i=e;return i})(),Ai=(()=>{let e=class e{constructor(t,n,o){this._element=t,this._renderer=n,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(oi(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(oi(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(n){return new(n||e)(c(Oe),c(Ne),c(wi,9))},e.\u0275dir=M({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})();var Pi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ze({type:e}),e.\u0275inj=qe({});let i=e;return i})(),xt=class extends Ie{constructor(e,r,t){super(It(r),Dt(t,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,r={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(e,r,t={}){this.controls.splice(e,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(e,r={}){let t=this._adjustIndex(e);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(e,r,t={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,r={}){yi(this,!1,e),e.forEach((t,n)=>{Ci(this,!1,n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(e.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e=[],r={}){this._forEachChild((t,n)=>{t.reset(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((r,t)=>t._syncPendingControls()?!0:r,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((r,t)=>{e(r,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(r=>r.enabled&&e(r))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function si(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var Z=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,n=null){let o=this._reduceControls(t),u={};return si(n)?u=n:n!==null&&(u.validators=n.validator,u.asyncValidators=n.asyncValidator),new De(o,u)}record(t,n=null){let o=this._reduceControls(t);return new bt(o,n)}control(t,n,o){let u={};return this.useNonNullable?(si(n)?u=n:(u.validators=n,u.asyncValidators=o),new Be(t,Y(H({},u),{nonNullable:!0}))):new Be(t,n,o)}array(t,n,o){let u=t.map(h=>this._createControl(h));return new xt(u,n,o)}_reduceControls(t){let n={};return Object.keys(t).forEach(o=>{n[o]=this._createControl(t[o])}),n}_createControl(t){if(t instanceof Be)return t;if(t instanceof Ie)return t;if(Array.isArray(t)){let n=t[0],o=t.length>1?t[1]:null,u=t.length>2?t[2]:null;return this.control(n,o,u)}else return this.control(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var dt=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:He,useValue:t.callSetDisabledState??st}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ze({type:e}),e.\u0275inj=qe({imports:[Pi]});let i=e;return i})(),J=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Di,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:He,useValue:t.callSetDisabledState??st}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ze({type:e}),e.\u0275inj=qe({imports:[Pi]});let i=e;return i})();var x=(()=>{let e=class e{constructor(t,n){this.httpClient=t,this.router=n,this.baseUrl="http://localhost:3000",this.token=""}getHeaders(){let t=localStorage.getItem("token");return new be({"Content-Type":"application/json",Authorization:`${t}`})}loginUser(t,n){let o={username:t,password:n};return this.httpClient.post(`${this.baseUrl}/login`,o,{headers:this.getHeaders()})}logout(){localStorage.removeItem("token"),localStorage.removeItem("userId"),this.router.navigate(["/login"])}isAuthenticated(){return localStorage.getItem("token")!==null}getUserDataById(t){return this.httpClient.get(`${this.baseUrl}/dashboard/${t}`,{headers:this.getHeaders()})}getUserId(){return localStorage.getItem("userId")}getUserToken(){return this.token||(this.token=localStorage.getItem("token")),this.token}updateUser(t,n){return this.httpClient.put(`${this.baseUrl}/update/${t}`,n,{headers:this.getHeaders()})}updatePasswordUser(t,n){return this.httpClient.put(`${this.baseUrl}/update-password/${t}`,n,{headers:this.getHeaders()})}getUserById(t){return t=t.replace(/[^a-zA-Z0-9]/g,""),this.httpClient.get(`${this.baseUrl}/dashboard/${t}`,{headers:this.getHeaders()})}};e.\u0275fac=function(n){return new(n||e)(ee(xe),ee(I))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function kn(i,e){if(i&1&&(a(0,"div",12)(1,"p"),l(2),s()()),i&2){let r=p();d(2),O(r.errorMessage)}}function Tn(i,e){if(i&1&&(a(0,"div",13)(1,"p"),l(2),s()()),i&2){let r=p();d(2),O(r.successfullMessage)}}var Ni=(()=>{let e=class e{constructor(t,n){this.authService=t,this.router=n,this.username="",this.password="",this.errorMessage="",this.successfullMessage=""}login(t){t.preventDefault(),this.authService.loginUser(this.username,this.password).subscribe(n=>{localStorage.setItem("token",n.token),localStorage.setItem("userId",n.userId),this.router.navigate([`/dashboard/${n.userId}`])},()=>{this.errorMessage="Error en las credenciales: incorrectas o inv\xE1lidas."})}};e.\u0275fac=function(n){return new(n||e)(c(x),c(I))},e.\u0275cmp=_({type:e,selectors:[["login-first"]],standalone:!0,features:[C],decls:18,vars:4,consts:[[1,"section"],[1,"form-div"],[3,"submit"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","name","username","id","username","aria-describedby","username",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","name","password","id","password",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","errorMessageClass messagesStatus",4,"ngIf"],["class","successfullMessageClass messagesStatus",4,"ngIf"],[1,"img-SIAU"],[1,"errorMessageClass","messagesStatus"],[1,"successfullMessageClass","messagesStatus"]],template:function(n,o){n&1&&(a(0,"section",0)(1,"div",1)(2,"h2"),l(3,"Ingresa al sistema SIAU para gestionar."),s(),a(4,"form",2),g("submit",function(h){return o.login(h)}),a(5,"div",3)(6,"label",4),l(7,"Nombre de usuario"),s(),a(8,"input",5),gt("ngModelChange",function(h){return ft(o.username,h)||(o.username=h),h}),s()(),a(9,"div",3)(10,"label",6),l(11,"Contrase\xF1a"),s(),a(12,"input",7),gt("ngModelChange",function(h){return ft(o.password,h)||(o.password=h),h}),s()(),a(13,"button",8),l(14,"Ingresar a SIAU"),s()(),b(15,kn,3,1,"div",9)(16,Tn,3,1,"div",10),s(),m(17,"div",11),s()),n&2&&(d(8),pt("ngModel",o.username),d(4),pt("ngModel",o.password),d(3),v("ngIf",o.errorMessage),d(),v("ngIf",o.successfullMessage))},dependencies:[dt,U,A,R,j,Ft,Mt,T,W],styles:['form[_ngcontent-%COMP%]{padding:.5rem;font-family:Poppins,sans-serif;border-radius:5px;background:linear-gradient(to rigth,#c8c8c8,#8c8c8c)!important;border:1px solid rgb(100,100,100)}h2[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{border:1px solid black}.form-div[_ngcontent-%COMP%]{margin:1rem}section[_ngcontent-%COMP%]{height:93vh}.messagesStatus[_ngcontent-%COMP%]{margin-top:8px;border-radius:5px;padding:10px;display:flex;flex-direction:column;justify-content:center}.successfullMessageClass[_ngcontent-%COMP%]{border:2px solid green;background-color:#78ff88}.errorMessageClass[_ngcontent-%COMP%]{border:2px solid red;background-color:#ff7878}.section[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.img-SIAU[_ngcontent-%COMP%]{background-image:url("./media/IMG_0915-OLEJ25TO.JPG");background-size:cover;background-repeat:no-repeat}@media screen and (max-width: 865px){form[_ngcontent-%COMP%]{border:none;padding:.2rem}}']});let i=e;return i})();var ki=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["footer"]],standalone:!0,features:[C],decls:2,vars:0,template:function(n,o){n&1&&(a(0,"div"),l(1,` \xA9 SIAU 2024
`),s())},styles:["div[_ngcontent-%COMP%]{background-color:#ffde19;height:100%}"]});let i=e;return i})();var Ti=(()=>{let e=class e{constructor(){this.title="SIAU"}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-root"]],standalone:!0,features:[C],decls:4,vars:0,consts:[[1,"griddy"]],template:function(n,o){n&1&&(a(0,"div",0),m(1,"header")(2,"router-outlet")(3,"footer"),s())},dependencies:[Ze,Xt,dt,ki],styles:['.griddy[_ngcontent-%COMP%]{display:grid;grid-template:"header" 50% "router" "footer"}.header[_ngcontent-%COMP%]{grid-area:header;background-color:}']});let i=e;return i})();var Ri=(()=>{let e=class e{constructor(t){this.route=t,this.userId=""}ngOnInit(){this.userId=this.route.snapshot.paramMap.get("userId")}};e.\u0275fac=function(n){return new(n||e)(c(K))},e.\u0275cmp=_({type:e,selectors:[["navbar"]],standalone:!0,features:[C],decls:17,vars:8,consts:[[1,"navbar-component"],["routerLinkActive","active",3,"routerLink"],[1,"fa-solid","fa-user-plus"],[1,"fa-solid","fa-user-group"],[1,"fa-solid","fa-gear"],[1,"fa-solid","fa-arrows-rotate"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"li")(2,"a",1),m(3,"i",2),l(4,"A\xF1adir cliente"),s()(),a(5,"li")(6,"a",1),m(7,"i",3),l(8,"Lista de clientes"),s()(),a(9,"li")(10,"a",1),m(11,"i",4),l(12,"Agregar registro a cliente"),s()(),a(13,"li")(14,"a",1),m(15,"i",5),l(16,"Actualizar mis datos personales"),s()()()),n&2&&(d(2),te("routerLink","/dashboard/",o.userId,"/add-client"),d(4),te("routerLink","/dashboard/",o.userId,"/clients"),d(4),te("routerLink","/dashboard/",o.userId,"/add-reform"),d(4),te("routerLink","/dashboard/",o.userId,"/update-user"))},dependencies:[re,ne,Zt],styles:["div[_ngcontent-%COMP%]{border:1px solid black}.navbar-component[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:#000;border-radius:1px solid black;height:100%;border-radius:5px}li[_ngcontent-%COMP%]{list-style-type:none;margin:10px;transition:.6s;transform:scale(1)}li[_ngcontent-%COMP%]:hover{transform:scale(1.02);transition:.6s}a[_ngcontent-%COMP%]{color:#ffde19;text-decoration:none}a[_ngcontent-%COMP%]:hover{transition:.5s all;color:#f5f5f5;text-shadow:0px 0px 19px #ffde19}.active[_ngcontent-%COMP%]{color:#fbfb91}i[_ngcontent-%COMP%]{padding:5px}"]});let i=e;return i})();var ji=(()=>{let e=class e{constructor(t,n,o){this.authService=t,this.route=n,this.router=o,this.message="",this.tokenActivate=!0,this.messageForErrorGetData=""}logout(){this.authService.logout()}ngOnInit(){let t=this.route.snapshot.paramMap.get("userId");t&&this.authService.getUserById(t).subscribe(n=>{this.user=n},n=>{this.messageForErrorGetData=n}),this.getToken()||this.router.navigate([`dashboard/${t}/clients/expired-token`])}getToken(){return this.authService.getUserToken()?.length!==0}};e.\u0275fac=function(n){return new(n||e)(c(x),c(K),c(I))},e.\u0275cmp=_({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[C],decls:9,vars:2,consts:[[1,"identificator-user","mt-2"],[1,"btn","btn-warning",3,"click"],[1,"router-navbar"],[1,"router-outlet"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"h2"),l(2),s(),a(3,"button",1),g("click",function(){return o.logout()}),l(4,"Cerrar sesi\xF3n"),s()(),a(5,"div",2),m(6,"navbar"),a(7,"div",3),m(8,"router-outlet"),s()()),n&2&&(d(2),ie("Bienvenido, ",o.user.name," ",o.user.lastname,"."))},dependencies:[Ze,Ri],styles:[".router-navbar[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10px}.identificator-user[_ngcontent-%COMP%]{padding:10px;font-family:Comfortaa,sans-serif}.router-outlet[_ngcontent-%COMP%]{width:100%}.btn-warning[_ngcontent-%COMP%]{transform:scale(1);transition:.6s all}.btn-warning[_ngcontent-%COMP%]:hover{transform:scale(1.05);transition:.6s all;background-color:brown;color:#f5f5f5;box-shadow:0 0 12px 1px}@media screen and (max-width: 650px){.router-navbar[_ngcontent-%COMP%]{display:block!important}}@media screen and (max-width:576px){.router-navbar[_ngcontent-%COMP%]{margin:0%}}"]});let i=e;return i})();var z=(()=>{let e=class e{constructor(t,n){this.authService=t,this.router=n}canActivate(){return this.authService.isAuthenticated()?!0:(this.router.navigate(["/login"]),!1)}};e.\u0275fac=function(n){return new(n||e)(ee(x),ee(I))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var oe=(()=>{let e=class e{constructor(t){this.httpClient=t,this.baseUrl="http://localhost:3000"}getHeaders(){let t=localStorage.getItem("token");return new be({"Content-Type":"application/json",Authorization:`${t}`})}getClients(){return this.httpClient.get(`${this.baseUrl}/clients`,{headers:this.getHeaders()})}addClient(t){return this.httpClient.post(`${this.baseUrl}/add-client`,t,{headers:this.getHeaders()})}deleteClient(t){return this.httpClient.delete(`${this.baseUrl}/delete-client/${t}`,{headers:this.getHeaders()})}updateClient(t,n){return this.httpClient.put(`${this.baseUrl}/update-client/${t}`,n,{headers:this.getHeaders()})}getClientById(t){return this.httpClient.get(`${this.baseUrl}/${t}`,{headers:this.getHeaders()})}};e.\u0275fac=function(n){return new(n||e)(ee(xe))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Rn(i,e){if(i&1){let r=V();a(0,"button",25),g("click",function(){E(r);let n=p();return S(n.addReform())}),l(1,"Haz click para a\xF1adir una reforma"),s()}}function jn(i,e){if(i&1){let r=V();a(0,"button",41),g("click",function(){E(r);let n=p().index,o=p();return S(o.addPiece(n))}),l(1,"A\xF1adir informaci\xF3n de n\xFAmero de pieza"),s()}}function Un(i,e){if(i&1){let r=V();a(0,"div",26)(1,"h4"),l(2),s(),a(3,"div",42)(4,"div",43)(5,"label",44),l(6,"Descripci\xF3n"),s(),m(7,"input",45),s(),a(8,"div",46)(9,"label",34),l(10,"N\xBA de Pieza"),s(),m(11,"input",47),s(),a(12,"button",48),g("click",function(){let n=E(r).index,o=p().index,u=p();return S(u.removePiece(o,n))}),l(13,"Eliminar pieza"),s()()()}if(i&2){let r=e.index;v("formGroupName",r),d(2),y("Pieza ",r+1,"")}}function Gn(i,e){if(i&1){let r=V();a(0,"button",41),g("click",function(){E(r);let n=p().index,o=p();return S(o.addPiece(n))}),l(1,"A\xF1adir otra pieza"),s()}}function Bn(i,e){if(i&1){let r=V();a(0,"div",26),m(1,"hr"),a(2,"h4"),l(3),s(),a(4,"label",27),l(5,"Descripci\xF3n"),s(),m(6,"input",28),a(7,"div",29)(8,"div")(9,"label",30),l(10,"Fecha"),s(),m(11,"input",31),s(),a(12,"div")(13,"label",32),l(14,"Monto de la operaci\xF3n"),s(),m(15,"input",33),s(),a(16,"div")(17,"label",34),l(18,"Orden de boleta"),s(),m(19,"input",35),s()(),a(20,"div",36),b(21,jn,2,0,"button",37)(22,Un,14,2,"div",21)(23,Gn,2,0,"button",38),s(),a(24,"button",39),g("click",function(){let n=E(r).index,o=p();return S(o.removeReform(n))}),l(25,"Eliminar Reforma"),s(),a(26,"button",40),g("click",function(){E(r);let n=p();return S(n.addReform())}),l(27,"Agregar Reforma"),s()()}if(i&2){let r=e.index,t=p();v("formGroupName",r),d(3),y("Reforma ",r+1,""),d(18),v("ngIf",t.getPieces(r).controls.length===0),d(),v("ngForOf",t.getPieces(r).controls),d(),w(t.getPieces(r).controls.length>0?23:-1)}}function Hn(i,e){if(i&1&&(a(0,"div",49),l(1),s()),i&2){let r=p();d(),y(" ",r.messageSuccessfully," ")}}function Ln(i,e){if(i&1&&(a(0,"div",50),l(1),s()),i&2){let r=p();d(),y(" ",r.messageError," ")}}var Ui=(()=>{let e=class e{constructor(t,n,o,u){this.apiService=t,this.fb=n,this.router=o,this.authService=u,this.userId="",this.messageSuccessfully="",this.messageError="",this.formClient=this.fb.group({name:["",f.required],lastname:["",f.required],age:[0,f.required],address:["",f.required],phone:["",[f.required,f.pattern("[0-9 ]{12}")]],vehicleBrand:["",f.required],vehicleModel:["",f.required],mileage:[0,f.required],reforms:this.fb.array([])})}addClient(t){this.userId=this.authService.getUserId(),t.preventDefault(),this.apiService.addClient(this.formClient.value).subscribe(()=>{this.router.navigate([`dashboard/${this.userId}/clients`]),this.messageSuccessfully="Cliente a\xF1adido con \xE9xito.",this.messageError=""},n=>{this.messageError=n})}createReform(){return this.fb.group({description:["",f.required],date:["",f.required],amount:[0,f.required],order:[0,f.required],pieces:this.fb.array([])})}addReform(){this.reforms.push(this.createReform())}removeReform(t){this.reforms.removeAt(t)}createPiece(){return this.fb.group({description:["",f.required],order:[0,f.required]})}addPiece(t){this.getPieces(t).push(this.createPiece())}removePiece(t,n){this.getPieces(t).removeAt(n)}get reforms(){return this.formClient.get("reforms")}getPieces(t){return this.reforms.at(t).get("pieces")}};e.\u0275fac=function(n){return new(n||e)(c(oe),c(Z),c(I),c(x))},e.\u0275cmp=_({type:e,selectors:[["app-form-add-client"]],standalone:!0,features:[C],decls:35,vars:5,consts:[[1,"section-add-client"],[1,"div-add-client"],[3,"ngSubmit","formGroup"],["for","name",1,"form-label"],["type","text","name","name","id","name","placeholder","Ingresa el nombre del cliente.","formControlName","name",1,"form-control"],["for","lastname",1,"form-label"],["type","text","name","lastname","id","lastname","placeholder","Ingresa el apellido del cliente.","formControlName","lastname",1,"form-control"],["for","age",1,"form-label"],["type","number","name","age","placeholder","Edad","id","age","formControlName","age",1,"form-control"],["for","address",1,"form-label"],["type","text","name","address","placeholder","Ingresa la direcci\xF3n.","id","address","formControlName","address",1,"form-control"],["for","phone",1,"form-label"],["type","text","name","phone","placeholder","Ingresa un tel\xE9fono.","id","phone","formControlName","phone",1,"form-control"],["for","vehicle-brand"],["type","text","name","vehicleBrand","placeholder","Ingresa el fabricante del veh\xEDculo. Ej. 'Renault'.","id","vehicle-brand","formControlName","vehicleBrand",1,"form-control"],["for","vehicle-model"],["type","text","name","vehicleModel","placeholder","Ingresa el modelo del veh\xEDculo. Ej. 'Sandero'.","id","vehicle-model","formControlName","vehicleModel",1,"form-control"],["for","mileage",1,"form-label"],["type","number","name","mileage","formControlName","mileage","id","mileage",1,"form-control"],["formArrayName","reforms"],["type","button","class","btn btn-secondary mt-3",3,"click",4,"ngIf"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","submit","value","Agregar Cliente",1,"btn","btn-warning","mt-4"],["class","alert alert-success mt-2","role","alert",4,"ngIf"],["class","alert alert-danger mt-2","role","alert",4,"ngIf"],["type","button",1,"btn","btn-secondary","mt-3",3,"click"],[3,"formGroupName"],["for","description",1,"form-label"],["id","description","formControlName","description","placeholder","Ej. 'Cambio de v\xE1lvula'.",1,"form-control"],[1,"d-flex","align-items-center","mt-4","mb-4"],["for","date",1,"form-label"],["id","date","type","date","formControlName","date","name","date",1,"form-control"],["for","amount",1,"form-label"],["type","number","formControlName","amount",1,"form-control"],["for","order",1,"form-label"],["type","number","formControlName","order",1,"form-control"],["formArrayName","pieces"],["type","button","class","btn btn-info mt-3 mb-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-info","mt-3","mb-3"],["type","button",1,"btn","btn-danger","mt-2",3,"click"],["type","button",1,"btn","btn-light","mt-2",3,"click"],["type","button",1,"btn","btn-info","mt-3","mb-3",3,"click"],[1,"mt-4","mb-4","piece-div"],[1,"div-description"],["for","description"],["type","text","name","description","id","description","placeholder","Ej. 'Filtro'.","formControlName","description",1,"form-control"],[1,"div-order"],["type","number","placeholder","Ingresa el n\xFAmero de pieza.","formControlName","order",1,"form-control"],["type","button",1,"btn","btn-danger","mt-4",3,"click"],["role","alert",1,"alert","alert-success","mt-2"],["role","alert",1,"alert","alert-danger","mt-2"]],template:function(n,o){n&1&&(a(0,"section",0)(1,"h2"),l(2,"A\xF1ade un cliente en los siguientes campos."),s(),a(3,"div",1)(4,"form",2),g("ngSubmit",function(h){return o.addClient(h)}),a(5,"label",3),l(6,"Nombre"),s(),m(7,"input",4),a(8,"label",5),l(9,"Apellido"),s(),m(10,"input",6),a(11,"label",7),l(12,"Edad"),s(),m(13,"input",8),a(14,"label",9),l(15,"Direcci\xF3n"),s(),m(16,"input",10),a(17,"label",11),l(18,"Tel\xE9fono"),s(),m(19,"input",12),a(20,"label",13),l(21,"Ingresa la marca del veh\xEDculo"),s(),m(22,"input",14),a(23,"label",15),l(24,"Ingresa el modelo del veh\xEDculo"),s(),m(25,"input",16),a(26,"label",17),l(27,"Kilometraje del veh\xEDculo"),s(),m(28,"input",18),a(29,"div",19),b(30,Rn,2,0,"button",20)(31,Bn,28,5,"div",21),s(),m(32,"input",22),s(),b(33,Hn,2,1,"div",23)(34,Ln,2,1,"div",24),s()()),n&2&&(d(4),v("formGroup",o.formClient),d(26),v("ngIf",o.reforms.controls.length===0),d(),v("ngForOf",o.reforms.controls),d(2),v("ngIf",o.messageSuccessfully&&!o.messageError),d(),v("ngIf",!o.messageSuccessfully&&o.messageError))},dependencies:[T,ye,W,J,U,A,se,R,j,G,$,ue,me],styles:[".section-add-client[_ngcontent-%COMP%]{background-color:#e6e6e6;padding:1rem}.div-add-client[_ngcontent-%COMP%]{padding:.5rem}.div-description[_ngcontent-%COMP%], .div-order[_ngcontent-%COMP%]{display:block;width:50%}input[_ngcontent-%COMP%]{background-color:#ffde19}.piece-div[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:5px;margin:.4rem;border-radius:10px;border:1px solid gray}@media screen and (max-width:792px){.section-add-client[_ngcontent-%COMP%]{padding:.8rem}}@media screen and (max-width:576px){.section-add-client[_ngcontent-%COMP%]{padding:.3rem}}"]});let i=e;return i})();var ct=(()=>{let e=class e{confirm(t){return new Promise((n,o)=>{n(window.confirm(t||"\xBFEst\xE1s seguro?"))})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Ae=(()=>{let e=class e{alert(t){window.alert(t||"Realizado.")}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var $n=(i,e)=>e.name,qn=(i,e)=>["/dashboard",i,"update-client",e],zn=(i,e)=>["/dashboard",i,"reforms-client",e];function Wn(i,e){i&1&&(a(0,"div",4)(1,"div")(2,"p"),l(3,"No se han encontrado clientes."),s()()())}function Kn(i,e){if(i&1){let r=V();a(0,"div",6)(1,"div",7)(2,"h5",8),l(3),s(),a(4,"h6"),l(5),s(),a(6,"h6",9)(7,"strong"),l(8,"Tel\xE9fono: "),s(),l(9),s(),a(10,"p",10)(11,"strong"),l(12,"Veh\xEDculo: "),s(),l(13),s(),a(14,"p",11)(15,"strong"),l(16,"Kilometraje: "),s(),l(17),s(),a(18,"p"),l(19),jt(20,"date"),s(),a(21,"button",12),g("click",function(n){let o=E(r).$implicit,u=p(2);return S(u.deleteClient(o._id,n))}),l(22,"Eliminar cliente"),s(),a(23,"a",13),l(24,"Actualizar datos del cliente"),s(),a(25,"a",14),l(26,"Ver registro de operaciones"),s()()()}if(i&2){let r=e.$implicit,t=p(2);d(3),ie("",r.name," ",r.lastname,""),d(2),O(r.address),d(4),y(" ",r.phone,""),d(4),ie("",r.vehicleBrand," ",r.vehicleModel,""),d(4),y("",r.mileage,"km"),d(2),y("Creado: ",Ut(20,10,r.createdAt,"short"),""),d(4),v("routerLink",ke(13,qn,t.userId,r._id)),d(2),v("routerLink",ke(16,zn,t.userId,r._id))}}function Zn(i,e){if(i&1&&(a(0,"div",5),ae(1,Kn,27,19,"div",6,$n),s()),i&2){let r=p();d(),le(r.filteredClients)}}var At=(()=>{let e=class e{constructor(t,n,o,u){this.apiService=t,this.confirmationService=n,this.alertService=o,this.authService=u,this.clients=[],this.reforms=[],this.filteredClients=[],this.userId="",this.filterByDate=!1,this.messageErrorForGetClients=""}ngOnInit(){this.apiService.getClients().subscribe(t=>{this.clients=t,this.filteredClients=t},t=>{this.messageErrorForGetClients=t}),this.userId=this.authService.getUserId()}onKey(t){let n=t.target.value.toLowerCase();this.filteredClients=this.clients.filter(o=>o.name.toLowerCase().includes(n)||o.lastname.toLowerCase().includes(n))}toggleFilter(){this.filterByDate=!this.filterByDate,this.filterByDate?this.filteredClients=[...this.clients].sort((t,n)=>{let o=new Date(t.createdAt).getTime();return new Date(n.createdAt).getTime()-o}):this.onKey({target:{value:""}})}deleteClient(t,n){this.confirmationService.confirm("\xBFEst\xE1 seguro que desea eliminar al cliente?").then(o=>{o&&this.apiService.deleteClient(t).subscribe(()=>{this.alertService.alert("Una alerta")},u=>{this.alertService.alert("Ha ocurrido un error: "+u)})})}};e.\u0275fac=function(n){return new(n||e)(c(oe),c(ct),c(Ae),c(x))},e.\u0275cmp=_({type:e,selectors:[["app-clients-list"]],standalone:!0,features:[F([L]),C],decls:8,vars:1,consts:[[1,"div-father"],[1,"d-flex","align-items-center"],["type","text","name","search","placeholder","Ingresa un nombre/apellido.",1,"form-control","mb-3",3,"keyup"],["type","checkbox",1,"form-check-input","mb-3",3,"change"],[1,"clients-div"],[1,"clients-length-1"],[1,"card",2,"width","20rem"],[1,"card-body"],[1,"card-title"],[1,"mt-3"],[1,"card-text","card-vehicle","mb-1"],[1,"card-km","mb-3"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-light","mt-2","text-align-start",3,"routerLink"],[1,"btn","btn-secondary","mt-3",3,"routerLink"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"div",1)(2,"input",2),g("keyup",function(h){return o.onKey(h)}),s()(),a(3,"label")(4,"input",3),g("change",function(){return o.toggleFilter()}),s(),l(5," Ordenar de reciente a antiguo "),s(),b(6,Wn,4,0,"div",4)(7,Zn,3,0,"div",5),s()),n&2&&(d(6),w(o.filteredClients.length===0?6:7))},dependencies:[L,re,ne],styles:['.clients-length-1[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));grid-template-rows:auto;padding:6px;grid-gap:2.5rem}.card[_ngcontent-%COMP%]{background:linear-gradient(to right,#ffff00e6,#c1cf05cc),url("./media/_1ef3e09d-f5f2-4950-858d-d69ea14302a6-4MICSPLP.jpeg");background-size:cover;transform:scale(1);transition:.5s}.card[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#000000e6,#000c),url("./media/_1ef3e09d-f5f2-4950-858d-d69ea14302a6-4MICSPLP.jpeg");color:#ffde19;transition:.5s;transform:scale(1.05);box-shadow:0 0 12px 1px gray}.div-father[_ngcontent-%COMP%]{background:linear-gradient(to right,#d3d3d3,gray);height:100%;font-family:Poppins,sans-serif;padding:10px}a[_ngcontent-%COMP%]{font-size:.8rem}.card-km[_ngcontent-%COMP%], .card-vehicle[_ngcontent-%COMP%]{margin:0%}']});let i=e;return i})();function Jn(i,e){if(i&1&&(a(0,"div",20),l(1),s()),i&2){let r=p();d(),y(" ",r.messageSuccessfully," ")}}var Bi=(()=>{let e=class e{constructor(t,n,o,u,h,B){this.apiService=t,this.route=n,this.fb=o,this.router=u,this.authService=h,this.alertService=B,this.clientId="",this.userId="",this.messageSuccessfully="",this.messageErrorForGetClientById="",this.messageErrorForUpdateClient="",this.formClient=this.fb.group({name:["",f.required],lastname:["",f.required],age:[0,f.required],address:["",f.required],phone:["",f.required],vehicleBrand:["",f.required],vehicleModel:["",f.required],mileage:["",f.required]})}ngOnInit(){this.clientId=this.route.snapshot.paramMap.get("clientId"),this.userId=this.authService.getUserId(),this.apiService.getClientById(this.clientId).subscribe(t=>{this.clientData=t},t=>{this.messageErrorForGetClientById=t}),this.loadClientData()}loadClientData(){this.apiService.getClientById(this.clientId).subscribe(t=>{this.formClient.patchValue(t)})}updateData(){this.clientDataToUpdate=this.formClient.value,this.apiService.updateClient(this.clientId,this.clientDataToUpdate).subscribe(()=>{this.messageSuccessfully="Cliente actualizado con \xE9xito",this.alertService.alert(this.messageSuccessfully),this.router.navigate([`dashboard/${this.userId}/clients`])},t=>{this.messageErrorForUpdateClient=t})}};e.\u0275fac=function(n){return new(n||e)(c(oe),c(K),c(Z),c(I),c(x),c(Ae))},e.\u0275cmp=_({type:e,selectors:[["app-update-client-by-id"]],standalone:!0,features:[C],decls:32,vars:3,consts:[[1,"section-update-client","p-1"],[1,"div-update-client"],[3,"ngSubmit","formGroup"],["for","name",1,"form-label"],["type","text","name","name","id","name","placeholder","Ingresa el nombre del cliente.","formControlName","name",1,"form-control"],["for","lastname",1,"form-label"],["type","text","name","lastname","id","lastname","placeholder","Ingresa el apellido del cliente.","formControlName","lastname",1,"form-control"],["for","age",1,"form-label"],["type","number","name","age","placeholder","Edad","id","age","formControlName","age",1,"form-control"],["for","address",1,"form-label"],["type","text","name","address","placeholder","Ingresa la direcci\xF3n.","id","address","formControlName","address",1,"form-control"],["for","phone",1,"form-label"],["type","text","name","phone","placeholder","Ingresa el tel\xE9fono.","id","phone","formControlName","phone",1,"form-control"],["for","vehicle-brand"],["type","text","name","vehicleBrand","placeholder","Ingresa el fabricante del veh\xEDculo. Ej. 'Renault'.","id","vehicle-brand","formControlName","vehicleBrand",1,"form-control"],["for","vehicle-model"],["type","text","name","vehicleModel","placeholder","Ingresa el modelo del veh\xEDculo. Ej. 'Sandero'.","id","vehicle-model","formControlName","vehicleModel",1,"form-control"],["for","mileage",1,"form-label"],["type","number","name","mileage","formControlName","mileage","id","mileage",1,"form-control"],["type","submit",1,"btn","btn-info","mt-2"],[1,"valid-feedback"]],template:function(n,o){n&1&&(a(0,"section",0)(1,"h2"),l(2),s(),a(3,"div",1)(4,"form",2),g("ngSubmit",function(){return o.updateData()}),a(5,"label",3),l(6,"Nombre"),s(),m(7,"input",4),a(8,"label",5),l(9,"Apellido"),s(),m(10,"input",6),a(11,"label",7),l(12,"Edad"),s(),m(13,"input",8),a(14,"label",9),l(15,"Direcci\xF3n"),s(),m(16,"input",10),a(17,"label",11),l(18,"Tel\xE9fono"),s(),m(19,"input",12),a(20,"label",13),l(21,"Ingresa la marca del veh\xEDculo"),s(),m(22,"input",14),a(23,"label",15),l(24,"Ingresa el modelo del veh\xEDculo"),s(),m(25,"input",16),a(26,"label",17),l(27,"Kilometraje del veh\xEDculo"),s(),m(28,"input",18),a(29,"button",19),l(30,"Actualizar los datos"),s()(),b(31,Jn,2,1,"div",20),s()()),n&2&&(d(2),y("Actualiza los datos de ",o.clientData.name," en los siguientes campos."),d(2),v("formGroup",o.formClient),d(27),w(o.formClient?31:-1))},dependencies:[J,U,A,se,R,j,G,$,T],styles:[".section-update-client[_ngcontent-%COMP%]{border:1px solid black;background-color:#e6e6e6}.div-update-client[_ngcontent-%COMP%]{padding:.5rem}.div-description[_ngcontent-%COMP%], .div-order[_ngcontent-%COMP%]{display:block;width:50%}input[_ngcontent-%COMP%]{background-color:#ffde19}"]});let i=e;return i})();function ut(i){return new Date(i).toISOString().split("T")[0]}var he=(()=>{let e=class e{constructor(t){this.httpClient=t,this.baseUrl="http://localhost:3000"}getHeaders(){let t=localStorage.getItem("token");return new be({"Content-Type":"application/json",Authorization:`${t}`})}getReforms(t){return this.httpClient.get(`${this.baseUrl}/reforms/client/${t}`,{headers:this.getHeaders()})}deleteReform(t){return this.httpClient.delete(`${this.baseUrl}/clients/reforms/${t}`,{headers:this.getHeaders()})}addReform(t,n){return this.httpClient.post(`${this.baseUrl}/client/${t}/reforms`,n,{headers:this.getHeaders()})}getReformById(t){return this.httpClient.get(`${this.baseUrl}/client/reforms/${t}`,{headers:this.getHeaders()})}updateReform(t,n){return this.httpClient.put(`${this.baseUrl}/reforms/${t}/update`,n,{headers:this.getHeaders()})}};e.\u0275fac=function(n){return new(n||e)(ee(xe))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Xn=(i,e)=>e.description,Yn=i=>[i];function Qn(i,e){i&1&&(a(0,"div")(1,"p"),l(2,"No hay reformas del cliente."),s()())}function er(i,e){if(i&1){let r=V();a(0,"div",3)(1,"h2"),l(2),s(),a(3,"span",4),l(4,"MONTO"),s(),a(5,"h4"),l(6),s(),a(7,"span",5),l(8,"FECHA"),s(),a(9,"h4"),l(10),s(),a(11,"span",6),l(12,"N\xBA DE ORDEN"),s(),a(13,"h4"),l(14),s(),a(15,"button",7),g("click",function(){let n=E(r).$implicit,o=p();return S(o.deleteReform(n._id))}),l(16,"Eliminar Registro"),s(),a(17,"a",8),l(18,"Ver informaci\xF3n"),s()()}if(i&2){let r=e.$implicit;d(2),O(r.description),d(4),y("$",r.amount," pesos."),d(4),O(r.date),d(4),O(r.order),d(3),v("routerLink",Ke(5,Yn,r._id))}}var Hi=(()=>{let e=class e{constructor(t,n,o,u,h,B,_e,Pe){this.route=t,this.reformService=n,this.datePipe=o,this.apiService=u,this.confirmationService=h,this.alertService=B,this.router=_e,this.authService=Pe,this.clientId="",this.userId="",this.reforms=[],this.messageErrorForGetReforms="",this.messageErrorForGetUserId="",this.messageErrorForDeleteClient=""}ngOnInit(){this.clientId=this.route.snapshot.paramMap.get("clientId"),this.userId=this.authService.getUserId(),this.reformService.getReforms(this.clientId).subscribe(t=>{this.reforms=t,this.reforms.forEach(n=>{n.date=ut(n.date)})},t=>{this.messageErrorForGetReforms=t}),this.apiService.getClientById(this.clientId).subscribe(t=>{this.clientData=t},t=>{this.messageErrorForGetUserId=t})}back(){this.router.navigate([`dashboard/${this.userId}/clients`])}deleteReform(t){this.confirmationService.confirm("\xBFDesea eliminar la reforma?").then(n=>{n&&this.reformService.deleteReform(t).subscribe(()=>{this.alertService.alert("Borrado exitoso. Recargue la p\xE1gina (puede usar F5 para esto).")},o=>{this.messageErrorForDeleteClient=o})})}};e.\u0275fac=function(n){return new(n||e)(c(K),c(he),c(L),c(oe),c(ct),c(Ae),c(I),c(x))},e.\u0275cmp=_({type:e,selectors:[["app-get-reforms-by-client-id"]],standalone:!0,features:[F([L]),C],decls:9,vars:3,consts:[[1,"div-father"],[1,"btn","btn-danger","mb-1",3,"click"],[1,"reforms"],[1,"reform"],[1,"reform-amount-span"],[1,"reform-date-span"],[1,"reform-order-span"],[1,"btn","btn-danger","mt-2",3,"click"],[1,"btn","btn-info","mt-2",3,"routerLink"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"button",1),g("click",function(){return o.back()}),l(2,"Atr\xE1s"),s(),a(3,"h2"),l(4),s(),a(5,"div",2),b(6,Qn,3,0,"div"),ae(7,er,19,7,"div",3,Xn),s()()),n&2&&(d(4),ie("Cambios realizados a ",o.clientData.name," ",o.clientData.lastname,""),d(2),w(o.reforms.length===0?6:-1),d(),le(o.reforms))},dependencies:[re,ne],styles:[".div-father[_ngcontent-%COMP%]{background:linear-gradient(to right,#d3d3d3,#f5f5f5);height:100%;font-family:Poppins,sans-serif;padding:10px}.reforms[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));grid-template-rows:auto;padding:6px;grid-gap:2.5rem}.reform[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:5px;padding:10px}.reform-amount-span[_ngcontent-%COMP%], .reform-date-span[_ngcontent-%COMP%], .pieces-reforms[_ngcontent-%COMP%]{background-color:#ffde19}.reform[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600}"]});let i=e;return i})();var tr=(i,e)=>e.name;function ir(i,e){if(i&1&&(a(0,"option",5),l(1),s()),i&2){let r=e.$implicit;Rt("id",r._id),d(),ie("",r.name," ",r.lastname,"")}}function nr(i,e){if(i&1){let r=V();a(0,"button",24),g("click",function(){E(r);let n=p().index,o=p(2);return S(o.addPiece(n))}),l(1,"A\xF1adir informaci\xF3n de n\xFAmero de pieza"),s()}}function rr(i,e){if(i&1){let r=V();a(0,"div",10)(1,"h4"),l(2),s(),a(3,"div",25)(4,"div",26)(5,"label",27),l(6,"Descripci\xF3n"),s(),m(7,"input",28),s(),a(8,"div",29)(9,"label",18),l(10,"N\xBA de Pieza"),s(),m(11,"input",30),s(),a(12,"button",31),g("click",function(){let n=E(r).index,o=p().index,u=p(2);return S(u.removePiece(o,n))}),l(13,"Eliminar pieza"),s()()()}if(i&2){let r=e.index;v("formGroupName",r),d(2),y("Pieza ",r+1,"")}}function or(i,e){if(i&1){let r=V();a(0,"button",24),g("click",function(){E(r);let n=p().index,o=p(2);return S(o.addPiece(n))}),l(1,"A\xF1adir otra pieza"),s()}}function sr(i,e){if(i&1){let r=V();a(0,"div",10),m(1,"hr"),a(2,"h4",11),l(3),s(),a(4,"label",12),l(5,"Descripci\xF3n"),s(),m(6,"input",13),a(7,"label",14),l(8,"Fecha"),s(),m(9,"input",15),a(10,"label",16),l(11,"Monto de la operaci\xF3n"),s(),m(12,"input",17),a(13,"label",18),l(14,"Orden de boleta"),s(),m(15,"input",19),a(16,"div",20),b(17,nr,2,0,"button",21)(18,rr,14,2,"div",8)(19,or,2,0,"button",22),s(),a(20,"button",23),g("click",function(){let n=E(r).index,o=p(2);return S(o.removeReform(n))}),l(21,"Eliminar reforma"),s()()}if(i&2){let r=e.index,t=p(2);v("formGroupName",r),d(3),y("Reforma ",r+1,""),d(14),v("ngIf",t.getPieces(r).controls.length===0),d(),v("ngForOf",t.getPieces(r).controls),d(),w(t.getPieces(r).controls.length>0?19:-1)}}function ar(i,e){if(i&1){let r=V();a(0,"button",32),g("click",function(){E(r);let n=p(2);return S(n.addReform())}),l(1,"Agregar Otra Reforma"),s(),a(2,"div",33),m(3,"input",34),s()}if(i&2){let r=p(2);d(3),v("disabled",r.formSelect.invalid)}}function lr(i,e){if(i&1){let r=V();a(0,"button",35),g("click",function(){E(r);let n=p(2);return S(n.addReform())}),l(1,"Agregar reforma al cliente"),s()}}function dr(i,e){if(i&1&&(a(0,"h2",6),l(1),s(),a(2,"div",7),b(3,sr,22,5,"div",8),s(),b(4,ar,4,1)(5,lr,2,0,"button",9)),i&2){let r=p();d(),ie("Agregar reforma a ",r.clientData.name," ",r.clientData.lastname,""),d(2),v("ngForOf",r.reforms.controls),d(),w(r.reforms.length>0?4:-1),d(),w(r.clientData&&r.reforms.length===0?5:-1)}}var Li=(()=>{let e=class e{constructor(t,n,o,u,h){this.apiService=t,this.fb=n,this.reformService=o,this.router=u,this.authService=h,this.selectedOptionId="",this.userId="",this.clients=[],this.clientSelected=!1,this.messageForErrorToAddReform="",this.formSelect=this.fb.group({client:[null,f.required],reforms:this.fb.array([this.createReform()])})}ngOnInit(){this.apiService.getClients().subscribe(t=>{this.clients=t.sort(this.SortClients)}),this.userId=this.authService.getUserId()}SortClients(t,n){return t.name.localeCompare(n.name)}changeValue(t){let n=t.target,o=n.options[n.selectedIndex];return this.selectedOptionId=o.id,this.getClientData(this.selectedOptionId),this.selectedOptionId}getClientData(t){this.apiService.getClientById(t).subscribe(n=>{this.clientData=n})}createReform(){return this.fb.group({description:["",f.required],date:["",f.required],amount:[null],order:[null,f.required],pieces:this.fb.array([])})}addReform(){this.reforms.push(this.createReform())}removeReform(t){this.reforms.removeAt(t)}createPiece(){return this.fb.group({description:["",f.required],order:[0,f.required]})}addPiece(t){this.getPieces(t).push(this.createPiece())}removePiece(t,n){this.getPieces(t).removeAt(n)}get reforms(){return this.formSelect.get("reforms")}getPieces(t){return this.reforms.at(t).get("pieces")}addReformToClient(t){t.preventDefault(),this.reformService.addReform(this.selectedOptionId,this.formSelect.value).subscribe(()=>{let n=this.formSelect.get("date")?.value;this.router.navigate([`dashboard/${this.userId}/clients`])},n=>{this.messageForErrorToAddReform=n})}};e.\u0275fac=function(n){return new(n||e)(c(oe),c(Z),c(he),c(I),c(x))},e.\u0275cmp=_({type:e,selectors:[["app-add-reform-to-client"]],standalone:!0,features:[C],decls:10,vars:2,consts:[[1,"div-father"],[1,"clients-length-1"],[3,"submit","formGroup"],["formControlName","client","aria-label","Default select example",1,"form-select",3,"change"],["selected","",1,"option-disabled"],[3,"id"],[1,"mt-3"],["formArrayName","reforms"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"btn","btn-light","mt-2"],[3,"formGroupName"],[1,"mt-2"],["for","description",1,"form-label"],["type","text","id","description","formControlName","description",1,"form-control"],["for","date",1,"date"],["type","date","name","date","id","date","formControlName","date",1,"form-control"],["for","amount",1,"form-label"],["type","number","id","amount","name","amount","formControlName","amount",1,"form-control"],["for","order",1,"form-label"],["type","number","name","order","id","order","formControlName","order",1,"form-control"],["formArrayName","pieces"],["type","button","class","btn btn-info mt-3 mb-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-info","mt-3","mb-3"],[1,"btn","btn-danger","mr-3",3,"click"],["type","button",1,"btn","btn-info","mt-3","mb-3",3,"click"],[1,"mt-4","mb-4","piece-div"],[1,"div-description"],["for","description"],["type","text","name","description","id","description","placeholder","Ej. 'Filtro'.","formControlName","description",1,"form-control"],[1,"div-order"],["type","number","placeholder","Ingresa el n\xFAmero de pieza.","formControlName","order",1,"form-control"],["type","button",1,"btn","btn-danger","mt-4",3,"click"],["type","button",1,"btn","btn-light","mb-4","mt-1",3,"click"],[1,"d-flex","justify-items-center"],["type","submit","value","A\xF1adir todas las reformas al cliente",1,"btn","btn-info","mt-2",3,"disabled"],[1,"btn","btn-light","mt-2",3,"click"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"div",1)(2,"form",2),g("submit",function(h){return o.addReformToClient(h)}),a(3,"select",3),g("change",function(h){return o.changeValue(h)}),a(4,"option",4),l(5,"Seleccione un cliente..."),s(),ae(6,ir,2,3,"option",5,tr),s(),b(8,dr,6,5),s(),m(9,"div"),s()()),n&2&&(d(2),v("formGroup",o.formSelect),d(4),le(o.clients),d(2),w(o.clientData?8:-1))},dependencies:[J,U,Fi,Ai,A,se,lt,R,j,G,$,ue,me,T,ye,W],styles:[".div-father[_ngcontent-%COMP%]{background-color:#d3d3d3;height:100%;font-family:Poppins,sans-serif;padding:10px}.piece-div[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:5px;margin:.4rem;border-radius:10px;border:1px solid gray}.option-disabled[_ngcontent-%COMP%]{color:gray}.clientData_name_level[_ngcontent-%COMP%]{margin-bottom:0%}"]});let i=e;return i})();var cr=(i,e)=>e.description,ur=(i,e)=>["/dashboard",i,"update-reform",e];function mr(i,e){i&1&&(a(0,"h5"),l(1,"No se ha especificado un monto."),s())}function hr(i,e){if(i&1&&(a(0,"h5"),l(1),s()),i&2){let r=p();d(),y("$",r.reform.amount," pesos argentinos.")}}function pr(i,e){if(i&1&&(a(0,"tr")(1,"td",9),l(2),s(),a(3,"td"),l(4),s()()),i&2){let r=e.$implicit;d(2),O(r.description),d(2),O(r.order)}}function fr(i,e){i&1&&(a(0,"tr")(1,"td",10),l(2,"No se han encontrado piezas."),s(),m(3,"td"),s())}var $i=(()=>{let e=class e{constructor(t,n,o,u){this.reformService=t,this.route=n,this.router=o,this.authService=u,this.clientId="",this.userId="",this.messageErrorForGetReformById=""}ngOnInit(){let t=this.route.snapshot.paramMap.get("reformId");this.clientId=this.route.snapshot.paramMap.get("clientId"),this.userId=this.authService.getUserId(),this.reformService.getReformById(t).subscribe(n=>{this.reform=n.reform,this.reform.date=ut(this.reform.date)},n=>{this.messageErrorForGetReformById=n})}formatDateForInput(t){return new Date(t).toISOString().split("T")[0]}back(){this.router.navigate([`dashboard/${this.userId}/reforms-client/${this.clientId}`])}};e.\u0275fac=function(n){return new(n||e)(c(he),c(K),c(I),c(x))},e.\u0275cmp=_({type:e,selectors:[["app-info-reform"]],standalone:!0,features:[F([L]),C],decls:39,vars:9,consts:[[1,"div-father"],[1,"btn","btn-danger","mb-1",3,"click"],[1,"btn","btn-info","mb-1",3,"routerLink"],[1,"div-child"],[1,"column-reform"],[1,"column-reform__h2"],[1,"pieces-div"],[1,"table"],["scope","col"],["scope","row"],[2,"color","red"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"button",1),g("click",function(){return o.back()}),l(2,"Atr\xE1s"),s(),a(3,"button",2),l(4,"Actualizar reforma"),s(),a(5,"div",3)(6,"div",4)(7,"h2",5),l(8,"Descripci\xF3n"),s(),a(9,"h5"),l(10),s(),a(11,"h2",5),l(12,"N\xFAmero de orden"),s(),a(13,"h6"),l(14),s()(),a(15,"div",4)(16,"h2",5),l(17,"Monto"),s(),b(18,mr,2,0,"h5")(19,hr,2,1,"h5"),a(20,"h2",5),l(21,"Fecha de la operaci\xF3n"),s(),a(22,"h5"),l(23),s()()(),m(24,"hr"),a(25,"div",6)(26,"h2"),l(27,"PIEZAS DE LA REFORMA"),s(),a(28,"table",7)(29,"thead")(30,"tr")(31,"th",8),l(32,"Pieza de la reforma"),s(),a(33,"th",8),l(34,"N\xFAmero de pieza"),s()()(),a(35,"tbody"),ae(36,pr,5,2,"tr",null,cr),b(38,fr,4,0,"tr"),s()()()()),n&2&&(d(3),v("routerLink",ke(6,ur,o.userId,o.reform._id)),d(7),O(o.reform.description),d(4),O(o.reform.order),d(4),w(o.reform.amount?19:18),d(5),O(o.reform.date),d(13),le(o.reform.pieces),d(2),w(o.reform.pieces.length===0?38:-1))},dependencies:[re,ne],styles:[".div-father[_ngcontent-%COMP%]{background:linear-gradient(to right,#d3d3d3,#f5f5f5);height:100%;font-family:Poppins,sans-serif;padding:10px}.div-child[_ngcontent-%COMP%]{display:flex}.column-reform[_ngcontent-%COMP%]{padding:5px;background-color:#ffdd19;margin:0rem .4rem .5rem 0rem}.column-reform__h2[_ngcontent-%COMP%]{background-color:#fff;font-size:1.5rem}.pieces-div_description[_ngcontent-%COMP%]{font-size:1.4rem}@media screen and (max-width: 566px){.div-child[_ngcontent-%COMP%]{display:block}}"]});let i=e;return i})();var gr=i=>["/dashboard",i,"update-password"];function vr(i,e){if(i&1&&(a(0,"div",17),l(1),s()),i&2){let r=p();d(),y(" ",r.messageSuccessfully," ")}}function _r(i,e){if(i&1&&(a(0,"div",18),l(1),s()),i&2){let r=p();d(),y(" ",r.messageErrorForInvalidCurrentPassword," ")}}var qi=(()=>{let e=class e{constructor(t,n,o){this.fb=t,this.authService=n,this.router=o,this.userId="",this.messageErrorForGetUserDataByClientById="",this.formUser=this.fb.group({name:["",f.required],lastname:["",f.required],email:["",[f.required,f.email]],username:["",f.required],currentPassword:["",f.required]})}ngOnInit(){this.userId=this.authService.getUserId(),this.authService.getUserDataById(this.userId).subscribe(t=>{this.formUser.patchValue({name:t.name,lastname:t.lastname,email:t.email,username:t.username,currentPassword:""})},t=>{this.messageErrorForGetUserDataByClientById=t})}updateUser(){this.userDataToUpdate=this.formUser.value,this.authService.updateUser(this.userId,this.userDataToUpdate).subscribe(()=>{this.messageSuccessfully="Usuario actualizado con \xE9xito.",this.messageErrorForInvalidCurrentPassword=""},t=>{this.messageErrorForInvalidCurrentPassword="La contrase\xF1a no es correcta, vuelve a intentarlo.",this.messageSuccessfully=""})}};e.\u0275fac=function(n){return new(n||e)(c(Z),c(x),c(I))},e.\u0275cmp=_({type:e,selectors:[["app-update-user"]],standalone:!0,features:[C],decls:24,vars:6,consts:[[1,"div-father"],[1,"div-update-user"],[3,"ngSubmit","formGroup"],["for","name",1,"form-label"],["type","text","formControlName","name","id","name","name","name","placeholder","Nombre",1,"form-control"],["for","form-label","form","lastname"],["type","text","formControlName","lastname","id","lastname","name","lastname","placeholder","Apellido",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","name","email","placeholder","Correo electr\xF3nico",1,"form-control"],["for","username",1,"form-label"],["type","text","id","username","formControlName","username","name","username","placeholder","Nombre de usuario",1,"form-control"],["for","currentPassword",1,"form-label"],["type","password","id","currentPassword","formControlName","currentPassword","name","currentPassword","placeholder","Contrase\xF1a",1,"form-control"],["type","submit","value","Actualizar mis datos",1,"btn","btn-info","mt-2"],["class","alert alert-success mt-2","role","alert",4,"ngIf"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"update-password-button",3,"routerLink"],["role","alert",1,"alert","alert-success","mt-2"],[1,"alert","alert-danger","mt-2"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"div",1)(2,"form",2),g("ngSubmit",function(){return o.updateUser()}),a(3,"label",3),l(4,"Nombre"),s(),m(5,"input",4),a(6,"label",5),l(7,"Apellido"),s(),m(8,"input",6),a(9,"label",7),l(10,"Email"),s(),m(11,"input",8),a(12,"label",9),l(13,"Nombre de usuario"),s(),m(14,"input",10),a(15,"label",11),l(16,"Ingrese su contrase\xF1a"),s(),m(17,"input",12)(18,"input",13),s(),b(19,vr,2,1,"div",14)(20,_r,2,1,"div",15),a(21,"div")(22,"a",16),l(23,"Deseo actualizar mi contrase\xF1a."),s()()()()),n&2&&(d(2),v("formGroup",o.formUser),d(17),v("ngIf",o.messageSuccessfully&&!o.messageErrorForInvalidCurrentPassword),d(),v("ngIf",o.messageErrorForInvalidCurrentPassword&&!o.messageSuccessfully),d(2),v("routerLink",Ke(4,gr,o.userId)))},dependencies:[J,U,A,R,j,G,$,T,W,re,ne],styles:[".div-father[_ngcontent-%COMP%]{background:linear-gradient(to right,#d3d3d3,#f5f5f5);height:100%;font-family:Poppins,sans-serif;padding:10px}.update-password-button[_ngcontent-%COMP%]{margin-top:.8rem}"]});let i=e;return i})();function Cr(i,e){if(i&1&&(a(0,"div",11),l(1),s()),i&2){let r=p();d(),y(" ",r.messageSuccessfully," ")}}function yr(i,e){if(i&1&&(a(0,"div",12),l(1),s()),i&2){let r=p();d(),y(" ",r.messageForError," ")}}var zi=(()=>{let e=class e{constructor(t,n,o){this.fb=t,this.authService=n,this.router=o,this.userId="",this.messageSuccessfully="",this.messageForError="",this.formChangePassword=this.fb.group({currentPassword:["",f.required],newPassword:["",f.required],confirmNewPassword:["",f.required]})}ngOnInit(){this.userId=this.authService.getUserId()}updatePassword(){this.formChangePassword.value.newPassword?this.formChangePassword.value.confirmNewPassword?this.authService.updatePasswordUser(this.userId,this.formChangePassword.value).subscribe(()=>{this.messageSuccessfully="Contrase\xF1a actualizada con \xE9xito.",this.messageForError=""},t=>{this.messageForError=t.error.message,this.messageSuccessfully=""}):this.messageForError="No has repetido la contrase\xF1a.":this.messageForError="No se ha asignado valor a la nueva contrase\xF1a."}back(){this.router.navigate([`dashboard/${this.userId}/update-user`])}};e.\u0275fac=function(n){return new(n||e)(c(Z),c(x),c(I))},e.\u0275cmp=_({type:e,selectors:[["app-update-password-to-user"]],standalone:!0,features:[C],decls:18,vars:3,consts:[[1,"div-father"],[1,"btn","btn-danger","mb-1",3,"click"],[3,"ngSubmit","formGroup"],["for","currentPassword"],["type","password","name","currentPassword","id","currentPassword","name","currentPassword","formControlName","currentPassword","placeholder","Contrase\xF1a actual",1,"form-control"],["for","newPassword"],["type","password","name","newPassword","id","newPassword","name","newPassword","formControlName","newPassword","placeholder","Tu nueva contrase\xF1a",1,"form-control"],["type","password","name","confirmNewPassword","id","confirmNewPassword","name","confirmNewPassword","formControlName","confirmNewPassword","placeholder","Repite tu nueva contrase\xF1a",1,"form-control"],["type","submit","value","Actualizar contrase\xF1a",1,"btn","btn-info","mt-2"],["class","alert alert-success mt-2","role","alert",4,"ngIf"],["class","alert alert-danger mt-2","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-success","mt-2"],["role","alert",1,"alert","alert-danger","mt-2"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"button",1),g("click",function(){return o.back()}),l(2,"Atr\xE1s"),s(),a(3,"h2"),l(4,"Actualizar tu contrase\xF1a"),s(),a(5,"form",2),g("ngSubmit",function(){return o.updatePassword()}),a(6,"label",3),l(7,"Tu contrase\xF1a actual"),s(),m(8,"input",4),a(9,"label",5),l(10,"Tu nueva contrase\xF1a"),s(),m(11,"input",6),a(12,"label",5),l(13,"Repite tu nueva contrase\xF1a"),s(),m(14,"input",7)(15,"input",8),s(),b(16,Cr,2,1,"div",9)(17,yr,2,1,"div",10),s()),n&2&&(d(5),v("formGroup",o.formChangePassword),d(11),v("ngIf",o.messageSuccessfully&&!o.messageForError),d(),v("ngIf",!o.messageSuccessfully&&o.messageForError))},dependencies:[J,U,A,R,j,G,$,T,W],styles:[".div-father[_ngcontent-%COMP%]{background:linear-gradient(to right,#d3d3d3,#f5f5f5);height:100%;font-family:Poppins,sans-serif;padding:10px}"]});let i=e;return i})();function br(i,e){if(i&1){let r=V();a(0,"div",15),m(1,"hr"),a(2,"h4"),l(3),s(),a(4,"div",16)(5,"label",17),l(6,"Descripci\xF3n de la pieza"),s(),m(7,"input",18),a(8,"label",17),l(9,"Orden de la pieza"),s(),m(10,"input",19),a(11,"button",20),g("click",function(){let n=E(r).index,o=p(2);return S(o.removePiece(n))}),l(12,"Eliminar Pieza"),s()()()}if(i&2){let r=e.index;v("formGroupName",r),d(3),y("Pieza N\xBA",r+1,""),d(2),te("for","piece-description-",r,""),d(2),te("id","piece-description-",r,""),d(),te("for","piece-order-",r,""),d(2),te("id","piece-order-",r,"")}}function xr(i,e){if(i&1&&(a(0,"div",21),l(1),s()),i&2){let r=p(2);d(),y(" ",r.messageSuccessfully," ")}}function Er(i,e){if(i&1&&(a(0,"div",22),l(1),s()),i&2){let r=p(2);d(),y(" ",r.messageError," ")}}function Sr(i,e){if(i&1){let r=V();a(0,"h2"),l(1,"Actualizar reforma"),s(),a(2,"form",1),g("ngSubmit",function(){E(r);let n=p();return S(n.updateReform())}),a(3,"label",2),l(4,"Descripci\xF3n"),s(),m(5,"input",3),a(6,"label",2),l(7,"Fecha"),s(),m(8,"input",4),a(9,"label",5),l(10,"Monto de la operaci\xF3n"),s(),m(11,"input",6),a(12,"label",7),l(13,"Orden de boleta"),s(),m(14,"input",8),a(15,"div",9),b(16,br,13,10,"div",10),s(),a(17,"button",11),g("click",function(){E(r);let n=p();return S(n.addPiece())}),l(18,"A\xF1adir informaci\xF3n del n\xFAmero de pieza"),s(),a(19,"div"),m(20,"input",12),s()(),b(21,xr,2,1,"div",13)(22,Er,2,1,"div",14)}if(i&2){let r=p();d(2),v("formGroup",r.reformForm),d(14),v("ngForOf",r.pieces.controls),d(5),v("ngIf",r.messageSuccessfully&&!r.messageError),d(),v("ngIf",r.messageError&&!r.messageSuccessfully)}}var Wi=(()=>{let e=class e{constructor(t,n,o,u,h){this.authService=t,this.route=n,this.reformService=o,this.fb=u,this.datePipe=h,this.messageErrorForGetReformById="",this.reformForm=this.fb.group({description:["",f.required],date:["",f.required],amount:[null,f.required],order:[null,f.required],pieces:this.fb.array([])})}ngOnInit(){this.userId=this.authService.getUserId(),this.reformId=this.route.snapshot.paramMap.get("reformId"),this.reform=this.reformService.getReformById(this.reformId).subscribe(t=>{this.reform=t.reform,this.reformForm.patchValue({description:this.reform.description,date:this.formatDateForInput(this.reform.date),amount:this.reform.amount,order:this.reform.order}),this.setPieces(this.reform.pieces)},t=>{this.messageErrorForGetReformById=t})}formatDateForInput(t){let n=new Date(t).toISOString().split("T")[0];return this.datePipe.transform(n,"yyyy-MM-dd")}get pieces(){return this.reformForm.get("pieces")}addPiece(t={}){this.pieces.push(this.fb.group({description:[t.description||"",f.required],order:[t.order||"",f.required]}))}setPieces(t){t.forEach(n=>this.addPiece(n))}removePiece(t){this.pieces.removeAt(t)}updateReform(){this.reformService.updateReform(this.reformId,this.reformForm.value).subscribe(()=>{this.messageSuccessfully="Reforma actualizada con \xE9xito.",this.messageError=""},t=>{this.messageError="Ocurri\xF3 un error: "+t.message,this.messageSuccessfully=""})}};e.\u0275fac=function(n){return new(n||e)(c(x),c(K),c(he),c(Z),c(L))},e.\u0275cmp=_({type:e,selectors:[["app-update-reform"]],standalone:!0,features:[F([L]),C],decls:2,vars:1,consts:[[1,"div-father"],[3,"ngSubmit","formGroup"],["for","description",1,"form-label"],["type","text","id","description","name","description","formControlName","description",1,"form-control"],["type","date","id","date","name","date","formControlName","date",1,"form-control"],["for","amount",1,"form-label"],["type","number","id","amount","name","amount","formControlName","amount",1,"form-control"],["for","order",1,"form-label"],["type","number","id","order","name","order","formControlName","order",1,"form-control"],["formArrayName","pieces",1,"mt-2"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-info","mt-3","mb-3",3,"click"],["type","submit","value","Actualizar",1,"btn","btn-light"],["class","alert alert-success mt-2","role","alert",4,"ngIf"],["class","alert alert-danger mt-2","role","alert",4,"ngIf"],[3,"formGroupName"],[1,"piece-div","p-3"],[1,"form-label",3,"for"],["type","text","formControlName","description","placeholder","Ej. 'Filtro'",1,"form-control",3,"id"],["type","number","formControlName","order",1,"form-control",3,"id"],["type","button",1,"btn","btn-danger","mt-4",3,"click"],["role","alert",1,"alert","alert-success","mt-2"],["role","alert",1,"alert","alert-danger","mt-2"]],template:function(n,o){n&1&&(a(0,"div",0),b(1,Sr,23,4),s()),n&2&&(d(),w(o.reform?1:-1))},dependencies:[T,ye,W,J,U,A,se,R,j,G,$,ue,me],styles:[".div-father[_ngcontent-%COMP%]{background-color:#d3d3d3;height:100%;font-family:Poppins,sans-serif;padding:10px}.option-disabled[_ngcontent-%COMP%]{color:gray}.clientData_name_level[_ngcontent-%COMP%]{margin-bottom:0%}.piece-div[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:5px;margin:.4rem;border-radius:10px;border:1px solid gray}"]});let i=e;return i})();var Ki=[{path:"add-client",component:Ui,canActivate:[z]},{path:"clients",component:At,canActivate:[z]},{path:"update-client/:clientId",component:Bi,canActivate:[z]},{path:"reforms-client/:clientId",component:Hi,canActivate:[z]},{path:"reforms-client/:clientId/:reformId",component:$i,canActivate:[z]},{path:"add-reform",component:Li,canActivate:[z]},{path:"update-password",component:zi,canActivate:[z]},{path:"update-user",component:qi,canActivate:[z]},{path:"update-reform/:reformId",component:Wi,canActivate:[z]},{path:"**",component:At,canActivate:[z]}];var Zi=[{path:"dashboard/:userId",component:ji,canActivate:[z],children:Ki},{path:"**",component:Ni}];var Ji={providers:[Bt({eventCoalescing:!0}),Jt(Zi),Wt(),Tt(qt)]};var Ir={providers:[Kt()]},Xi=$t(Ji,Ir);var Dr=()=>zt(Ti,Xi),Es=Dr;export{Es as a};
